<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå¨Ô∏è Breathing App</title>
    <script type="module" src="https://unpkg.com/@hotwired/turbo@8.0.4/dist/turbo.es2017-esm.js"></script>
    <script type="module" src="https://unpkg.com/@hotwired/stimulus@3.2.2/dist/stimulus.js"></script>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>üå¨Ô∏è Respira√ß√£o Guiada</h1>
            <p>T√©cnica Wim Hof - Simples e Eficaz</p>
            
            <!-- Menu de navega√ß√£o -->
            <nav class="main-nav" style="display: none;">
                <button class="nav-btn active" data-screen="round-selection">üè† In√≠cio</button>
                <button class="nav-btn" data-screen="history-screen">üìä Hist√≥rico</button>
                <button class="nav-btn" data-screen="friends-screen">üë• Amigos</button>
                <button id="logout-btn" class="nav-btn logout">üö™ Sair</button>
            </nav>
        </header>

        <!-- Tela Principal -->
        <main class="main-content">
            <!-- Tela de Login -->
            <div id="login-screen" class="screen active">
                <div class="login-container">
                    <h2>üîê Login</h2>
                    <div class="login-form">
                        <input type="text" id="username" placeholder="Nome de usu√°rio" />
                        <input type="password" id="password" placeholder="Senha" />
                        <button id="login-btn" class="start-btn">Entrar</button>
                        <p class="login-help">
                            üí° Para testar: use qualquer username/senha<br>
                            O app funcionar√° em modo demo
                        </p>
                    </div>
                </div>
            </div>

            <!-- Sele√ß√£o de Rounds -->
            <div id="round-selection" class="screen">
                <div class="selection-container">
                    <h2>Quantos rounds voc√™ quer fazer?</h2>
                    <div class="rounds-grid">
                        <button class="round-btn" data-rounds="2">2 Rounds</button>
                        <button class="round-btn" data-rounds="3">3 Rounds</button>
                        <button class="round-btn" data-rounds="4">4 Rounds</button>
                        <button class="round-btn" data-rounds="5">5 Rounds</button>
                    </div>
                    <button id="start-btn" class="start-btn" disabled>Iniciar Sess√£o</button>
                </div>
            </div>

            <!-- Tela de Respira√ß√£o -->
            <div id="breathing-screen" class="screen">
                <div class="session-info">
                    <div class="round-display">
                        <span>Round <span id="current-round">1</span> de <span id="total-rounds">3</span></span>
                    </div>
                    <div class="phase-display">
                        <span id="phase-text">Respira√ß√£o</span>
                        <span id="breath-counter">Respira√ß√£o 1 de 30</span>
                        <span id="timer-display" class="hidden">0:00</span>
                    </div>
                </div>

                <!-- C√≠rculos Org√¢nicos -->
                <div class="breathing-animation">
                    <div class="circle-stack">
                        <div class="circle circle-3"></div>
                        <div class="circle circle-2"></div>
                        <div class="circle circle-1">
                            <span id="breath-number">1</span>
                        </div>
                    </div>
                </div>

                <!-- Controles -->
                <div class="controls">
                    <!-- Controles durante respira√ß√£o -->
                    <div id="breathing-controls" class="control-group active">
                        <button id="pause-btn" class="control-btn">Pausar</button>
                        <button id="stop-btn" class="control-btn secondary">Parar</button>
                    </div>

                    <!-- Controles durante hold -->
                    <div id="hold-controls" class="control-group">
                        <div class="instruction">
                            <h3>Prenda a respira√ß√£o!</h3>
                            <p>Segure o ar e relaxe</p>
                        </div>
                        <button id="breathe-btn" class="control-btn primary">Respirar</button>
                    </div>

                    <!-- Controles durante recovery -->
                    <div id="recovery-controls" class="control-group">
                        <div class="instruction">
                            <h3>Respire fundo!</h3>
                            <p>Inspire profundamente e segure por 15 segundos</p>
                        </div>
                        <button id="release-btn" class="control-btn primary">Soltar</button>
                    </div>
                </div>

                <!-- Tempos dos Rounds -->
                <div id="round-times" class="round-times hidden">
                    <h4>Tempos dos Rounds:</h4>
                    <div id="times-list"></div>
                </div>
            </div>

            <!-- Tela de Conclus√£o -->
            <div id="completion-screen" class="screen">
                <div class="completion-container">
                    <h2>üéâ Sess√£o Conclu√≠da!</h2>
                    <p>Parab√©ns! Voc√™ completou sua pr√°tica de respira√ß√£o.</p>
                    
                    <div class="summary">
                        <div class="summary-item">
                            <strong>Rounds:</strong> <span id="summary-rounds">0</span>
                        </div>
                        <div class="summary-item">
                            <strong>Total de respira√ß√µes:</strong> <span id="summary-breaths">0</span>
                        </div>
                    </div>

                    <div id="hold-summary" class="hold-summary">
                        <h4>Tempos de Reten√ß√£o:</h4>
                        <div id="hold-list"></div>
                        <div class="totals">
                            <div>Tempo total: <span id="total-hold-time">0m 0s</span></div>
                            <div>Tempo m√©dio: <span id="avg-hold-time">0m 0s</span></div>
                        </div>
                    </div>

                    <button id="new-session-btn" class="start-btn">Nova Sess√£o</button>
                </div>
            </div>

            <!-- Tela de Hist√≥rico -->
            <div id="history-screen" class="screen">
                <div class="history-container">
                    <h2>üìä Seu Hist√≥rico</h2>
                    
                    <!-- Streak e estat√≠sticas gerais -->
                    <div class="stats-overview">
                        <div class="stat-card">
                            <div class="stat-number" id="current-streak">0</div>
                            <div class="stat-label">Dias Consecutivos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-sessions">0</div>
                            <div class="stat-label">Sess√µes Totais</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="total-time">0h 0m</div>
                            <div class="stat-label">Tempo Total</div>
                        </div>
                    </div>

                    <!-- √öltimos 7 dias -->
                    <div class="week-view">
                        <h3>√öltimos 7 Dias</h3>
                        <div class="days-grid" id="days-grid">
                            <!-- Ser√° preenchido pelo JavaScript -->
                        </div>
                    </div>

                    <!-- Sess√µes de hoje -->
                    <div class="today-sessions">
                        <h3>Sess√µes de Hoje</h3>
                        <div id="today-sessions-list">
                            <!-- Ser√° preenchido pelo JavaScript -->
                        </div>
                    </div>

                    <!-- Hist√≥rico detalhado -->
                    <div class="detailed-history">
                        <h3>Hist√≥rico Completo</h3>
                        <div id="sessions-history">
                            <!-- Ser√° preenchido pelo JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tela de Amigos -->
            <div id="friends-screen" class="screen">
                <div class="friends-container">
                    <h2>üë• Amigos</h2>
                    
                    <!-- Buscar amigos -->
                    <div class="search-friends">
                        <h3>Adicionar Amigo</h3>
                        <div class="search-input-group">
                            <input type="text" id="friend-search" placeholder="Nome de usu√°rio">
                            <button id="search-friend-btn" class="control-btn">Buscar</button>
                        </div>
                        <div id="search-results"></div>
                    </div>

                    <!-- Solicita√ß√µes pendentes -->
                    <div class="pending-requests">
                        <h3>Solicita√ß√µes Pendentes</h3>
                        <div id="pending-requests-list">
                            <!-- Ser√° preenchido pelo JavaScript -->
                        </div>
                    </div>

                    <!-- Lista de amigos -->
                    <div class="friends-list">
                        <h3>Meus Amigos</h3>
                        <div id="friends-list">
                            <!-- Ser√° preenchido pelo JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal de estat√≠sticas do amigo -->
            <div id="friend-stats-modal" class="modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="friend-name">Estat√≠sticas do Amigo</h3>
                        <button id="close-modal" class="close-btn">√ó</button>
                    </div>
                    <div class="modal-body" id="friend-stats-content">
                        <!-- Ser√° preenchido pelo JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="assets/app.js"></script>
</body>
</html>
